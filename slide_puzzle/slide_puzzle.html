<html>
  <head>
    <link rel="stylesheet" href="css/stylesheet.css">
    <title>Slide_puzzle</title>
    <script type="text/javascript">
      /*timer class*/
      var timer = new Boolean(false);
      var strTimer = new Number(0);
      function timerStart()
      {
        timer = true;
      }
      function timerStop()
      {
        timer = false;
      }
      function timerReset()
      {
        strTimer = 0;
        var Timer = document.getElementById("Timer");
        Timer.value = strTimer.toString();
      }
      function timeRun()
      {
        setTimeout("timeRun()",1000);
        if (timer == true) {
          var Timer = document.getElementById("Timer");
          Timer.value = strTimer.toString();
          strTimer = strTimer+1;
        }
      }

      var empty = 15;
      var Imgs = new Array(16);//answer
      var Pos = new Array(16);//public
      for (var i = 0;i < 16;++i) {
        if (i == 15) {
          Imgs[i] = "./img/blank_img.png";
        } else {
          Imgs[i] = "./img/github-profile.png";
        }
      }

      /*for (var i = 0;i < 15;++i) {
        Imgs[i] = "./img/github-profile.png";
      }
      Imgs[15] = "./img/blank.png";
      */

      function shuffle()
      {
      }
      function split(SourceImg)
      {
        for (var i = 0;i < 4;++i) {
          for (var j = 0;j < 4;++j) {
          Imgs[i] = drawImage(SourceImg, x, y, width, height,  0, 0, width, height);
          }
        }
      }
      function cpImg(img1, img2)
      {
        var tmp = img1.src;
        img1.src = img2.src;
        img2.src = tmp;
      }
      function swap(img1, img2)
      {
        var tmp = img1;
        cpImg(img1,tmp);
        cpImg(img2, img1);
        cpImg(tmp, img2);
      }
      function moveImg(img)
      {
        alert(img.id);
        var objImg = document.getElementById("img15");
        swap(img, objImg);
        img.src = Imgs[empty];
      }
      function isAnswer()
      {
        for (var i = 0;i < 16;++i) {
          if (i == 15 && Pos[i].name == blank_img) {
            return true;
          } else if (Imgs[i].name != i) {
            return false;
          }
        }
      }

    </script>
  </head>

  <body onLoad="timeRun()">
    <header>slide_puzzle 15</header>

    <input type="button" value="start!" onClick="timerStart()">
    <input type="button" value="stop!" onClick="timerStop()">
    <input type="button" value="reset!" onClick="timerReset()">
    <form>
      <input type="text" id="Timer" size="10">
    </form>

    <hr>
    <script>
      document.write("<img id='img_test' name='test' src='"+Imgs[0]+"' onclick='moveImg(this)'/>");
      document.write("<br/>");

      for (var i = 0;i < 16;++i) {
        document.write("<img id='img"+i+"' name='"+i+"'src='"+Imgs[i]+"' onclick='moveImg(this)'/>");
        if (i % 4 == 3) {
          document.write("<br/>");
        }
      }
    </script>
    <hr>

    <footer>
    </footer>
  </body>
</html>
